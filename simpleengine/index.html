<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>SimpleEngine - Natdanai Puthom</title><meta name="description" content="Inspired by my experiences with 'SimpleJson' which, ironically, was anything but simple, I set out to craft my own engine,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://natdanaiputhom.github.io/simpleengine/"><link rel="alternate" type="application/atom+xml" href="https://natdanaiputhom.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://natdanaiputhom.github.io/feed.json"><meta property="og:title" content="SimpleEngine"><meta property="og:image" content="https://natdanaiputhom.github.io/media/posts/7/progart.png"><meta property="og:image:width" content="848"><meta property="og:image:height" content="838"><meta property="og:site_name" content="Natdanai Puthom"><meta property="og:description" content="Inspired by my experiences with 'SimpleJson' which, ironically, was anything but simple, I set out to craft my own engine,&hellip;"><meta property="og:url" content="https://natdanaiputhom.github.io/simpleengine/"><meta property="og:type" content="article"><link rel="preload" href="https://natdanaiputhom.github.io/assets/dynamic/fonts/gluten/gluten.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://natdanaiputhom.github.io/assets/css/style.css?v=59031aa59d81a4b7c5a63309c7c76b5c"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://natdanaiputhom.github.io/simpleengine/"},"headline":"SimpleEngine","datePublished":"2024-04-08T15:35","dateModified":"2024-08-19T04:08","image":{"@type":"ImageObject","url":"https://natdanaiputhom.github.io/media/posts/7/progart.png","height":838,"width":848},"description":"Inspired by my experiences with 'SimpleJson' which, ironically, was anything but simple, I set out to craft my own engine,&hellip;","author":{"@type":"Person","name":"Natdanai Puthom","url":"https://natdanaiputhom.github.io/authors/natdanai-puthom/"},"publisher":{"@type":"Organization","name":"Natdanai Puthom"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="container"><header class="header"><a href="https://natdanaiputhom.github.io/" class="logo"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu">Menu</button><ul class="navbar__menu"><li><a href="https://natdanaiputhom.github.io/" target="_self">Home</a></li><li><a href="https://natdanaiputhom.github.io/tags/personal-project/" target="_self">Personal Projects</a></li><li><a href="https://natdanaiputhom.github.io/tags/group-project/" target="_self">Group Projects</a></li><li><a href="https://natdanaiputhom.github.io/tags/gamejam/" target="_self">Game Jams</a></li><li><a href="https://natdanaiputhom.github.io/about-me/" target="_self">About me</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__inner post__header"><h1 class="post__title">SimpleEngine</h1></header><div class="post__inner"><div class="post__entry"><div class="content"><div class="textCenterScrollView"><p>Inspired by my experiences with 'SimpleJson' which, ironically, was anything but simple, I set out to craft my own engine, humorously named SimpleEngine. This effort mocked the misleading "simplicity" promised by such tools. Olle, whom I had previously worked on projects like <a href="https://natdanaiputhom.github.io/spoopy-sprint/" target="_blank" rel="noopener noreferrer">Spoopy Sprint </a>and <a href="https://natdanaiputhom.github.io/spelprojekt-4/" target="_blank" rel="noopener noreferrer">Stella's Quest </a>with, harbours a distinct aversion to the use of singletons and global variables, a stance that, while typically aligning with good practice, I playfully chose to ignore for this engine. Embracing the chaos, what could go wrong?</p><p> </p></div></div><blockquote><p>Simple, it's just that easy</p></blockquote><p> </p><div class="content"><div class="textLeft"><h5><strong>DirectX11</strong></h5><p>SimpleEngine, initially for fun, became my gateway to learn graphics programming. In this image I've implemented deferred rendering technique with 2 point lights. I still have issues with applying ambient light from the skybox and shadow but I hope it will get resolve soon.</p></div><div class="image"><figure class="post_image"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/deferredPointlights.png" alt="" width="1597" height="652" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://natdanaiputhom.github.io/media/posts/7/responsive/deferredPointlights-xs.png 384w, https://natdanaiputhom.github.io/media/posts/7/responsive/deferredPointlights-sm.png 600w, https://natdanaiputhom.github.io/media/posts/7/responsive/deferredPointlights-md.png 768w, https://natdanaiputhom.github.io/media/posts/7/responsive/deferredPointlights-lg.png 1200w, https://natdanaiputhom.github.io/media/posts/7/responsive/deferredPointlights-xl.png 1600w"></figure></div></div><div class="content"><div class="textLeft"><h5><strong>Animation Loader</strong></h5><p>My journey into procedural animation sparked with the captivating experience of Rain World. Witnessing its dynamic animations propelled me into a deep dive into the realm of procedural animation, where I delved into the intricacies of concepts like inverse kinematics (IK). Eager to implement this in my project, I first had to tackle the basics: loading models and animations into the engine. Despite my initial lack of knowledge, I successfully integrated models, skeletons, and animations using FBXSDK. However, the animations didn't play correctly. After days of searching for the culprit, I discovered the issue was in the shader I had mistakenly used the '+' operator instead of '*' for the joints transforms.</p><p> </p></div><div class="ImageContainerWithText"><div class="image-container dynamic-size"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/SimpleEngine-Debug_8kfNkMub3u-1712868063513.gif" alt="" width="256" height="256"></div><div class="text-container">hehe</div></div><div class="ImageContainerWithText"><div class="image-container dynamic-size offset-right"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/SimpleEngine_Debug_A6hPT9Xp8N.gif" alt="" width="512" height="512"></div><div class="text-container">finally!</div></div></div><p> </p><div class="content"><div class="textLeft"><h5><strong>Animation Blend</strong></h5><p>Utilizing a model previously created in <a href="https://natdanaiputhom.github.io/spelprojekt-3/" target="_blank" rel="noopener noreferrer">Abalabos</a>,I incorporated linear interpolation to smooth transitions between different animations for testing purposes. There are ImGui windows where it's possible to adjust transition speed and values. Unfortunate, the engine is currently on a big restructure and I don't have a good gif saved to demonstrate.</p><p> </p></div><div class="ImageContainerWithText"><div class="image-container dynamic-size offset-right"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/SimpleEngine_Debug_ocAc1gAiZ8.gif" alt="" width="512" height="512"></div><div class="text-container">Animation LERP</div><div> </div></div></div><div class="content"><div class="textLeft"><h5><strong>Profilering (EasyProfiler)</strong></h5><p>While implementing and testing animations, I encountered significant performance hit when updating multiple instances of the same animation type. This led me to devise several solutions.</p><ol><li>For models undergoing the same animation without variation, I update the animation once and then applying the new pose to all models sharing that animation.</li><li>For models with differing animations, leveraging a <a href="https://natdanaiputhom.github.io/thread-pool/" target="_blank" rel="noopener noreferrer">Thread Pool</a> to update animations concurrency before proceeding.</li></ol><p>The impact of these optimizations was remarkable, yielding a ~1 milliseconds (release) improvement per frame for 200 animations on an Intel Core i5 9400f, with even more substantial gains for models using identical animations. The rendering is still responsible for ~90% of the performance bottleneck so I'll need to optimize it in the future.</p><p> </p></div><div class="ImageContainerWithText"><div class="image-container dynamic-size"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/SimpleEngine_Debug_2qlZNuFj0O.gif" alt="" width="780" height="780"></div><div class="text-container">Model created by Oliver Benedetti (SG22)</div></div></div><div class="content"><div class="textLeft"><h5><strong>Profilering (Memory Leaks)</strong></h5><p>Using this simple memory tracker, I can check for total allocations, memory leaks, and their locations. It can be turned off in a JSON configuration file with two settings. </p><ol><li>TrackAllAllocations: this is very fast and just print amount of memory leaks.</li><li>TrackAllStackTraces: this is much slower but will also print out where the leaks could be.</li></ol><p>Additionally, there is a global memory tracker that keeps count during the program's lifetime. This global tracker is turned on by default to remind us to fix the leaks eventually. The stack traces could also be saved to a txt file.</p><p>I lost quite a lot of hair trying to solve the Static Initilization Order Fiasco problem :(</p></div><div class="ImageContainerWithText"><div class="image-container"><a href="https://natdanaiputhom.github.io/leaks.png" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/leaks.png" alt="" width="512" height="512" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://natdanaiputhom.github.io/media/posts/7/responsive/leaks-xs.png 384w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks-sm.png 600w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks-md.png 768w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks-lg.png 1200w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks-xl.png 1600w"></a></div><div class="text-container">Scoped tracking</div><div> </div></div><div class="ImageContainerWithText"><div class="image-container dynamic-size"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/leaks2.png" alt="" width="780" height="780" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://natdanaiputhom.github.io/media/posts/7/responsive/leaks2-xs.png 384w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks2-sm.png 600w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks2-md.png 768w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks2-lg.png 1200w, https://natdanaiputhom.github.io/media/posts/7/responsive/leaks2-xl.png 1600w"></div><div class="text-container"> </div></div></div><div class="content"><div class="textLeft"><h5><strong>And more</strong></h5><p>Over time, SimpleEngine has evolved, increasingly focusing on implementing new features. This includes the integration of navigation meshes and pathfinding algorithms, as utilized in <a href="https://natdanaiputhom.github.io/streamer-attacked-by-aliens-live-on-stream/" target="_blank" rel="noopener noreferrer">Spite: String of Fate</a>, and the exploration of Entity Component System (ECS), a concept I delved into due to our team's use of FLECS for the Spite project in our TempEngine at The Game Assembly.<br><em>You can read more about my ECS journey here, <a href="https://natdanaiputhom.github.io/entity-component-system/" target="_blank" rel="noopener noreferrer">Entity Component System</a>. </em></p><p>There are many more features that I've implemented in the SimpleEngine, but I don't think they're interesting or have enough time to write about. </p><p>I intend to persistently enhance SimpleEngine throughout my game development journey, curious to discover where this path will take me. So far, developing SimpleEngine has been a fulfilling experience.</p><p class="msg msg--highlight">We've integrated the Node Scripting System (NSS) into SimpleEngine and are currently working on ensuring compatibility between ECS and NSS. NSS is created by Emil.<em><br>You can read more about his amazing work at <a href="https://broremil.se/visual-scripting.html" target="_blank" rel="noopener noreferrer">https://broremilolofsson.github.io</a></em></p><p> </p></div><div class="ImageContainerWithText"><div class="image-container dynamic-size"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/7/navmesh.png" alt="" width="1024" height="1024" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://natdanaiputhom.github.io/media/posts/7/responsive/navmesh-xs.png 384w, https://natdanaiputhom.github.io/media/posts/7/responsive/navmesh-sm.png 600w, https://natdanaiputhom.github.io/media/posts/7/responsive/navmesh-md.png 768w, https://natdanaiputhom.github.io/media/posts/7/responsive/navmesh-lg.png 1200w, https://natdanaiputhom.github.io/media/posts/7/responsive/navmesh-xl.png 1600w"></div><div class="text-container">Pathfinder testing</div></div></div></div><footer class="post__footer"><div class="post__tag-share"><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fnatdanaiputhom.github.io%2Fsimpleengine%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fnatdanaiputhom.github.io%2Fsimpleengine%2F&amp;via=Natdanai%20Puthom&amp;text=SimpleEngine" class="js-share twitter" aria-label="Share with Twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fnatdanaiputhom.github.io%2Fsimpleengine%2F" class="js-share linkedin" aria-label="Share with LinkedIn" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div></div></footer></div></article></main><footer class="footer"><div class="footer__left"><div class="footer__copy"></div></div><div class="footer__right"><div class="footer__social"><a href="https://www.linkedin.com/in/natdanai-puthom-34175317a/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = { mobileMenuMode: 'sidebar', animationSpeed: 300, submenuWidth: 'auto', doubleClickTime: 500, mobileMenuExpandableSubmenus: true, relatedContainerForOverlayMenuSelector: '.navbar', };</script><script defer="defer" src="https://natdanaiputhom.github.io/assets/js/scripts.min.js?v=6450cfc483efd7e58ed8ad5b64050d3e"></script><script>function publiiDetectLoadedImages () {
         var images = document.querySelectorAll('img[loading]:not(.is-loaded)');
         for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
               images[i].classList.add('is-loaded');
               images[i].parentNode.classList.remove('is-img-loading');
            } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
                  this.parentNode.classList.remove('is-img-loading');
               }, false);
            }
         }
      }
      publiiDetectLoadedImages();</script></body></html>