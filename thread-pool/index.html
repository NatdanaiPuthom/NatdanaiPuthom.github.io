<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Thread Pool - Natdanai Puthom</title><meta name="description" content="Initially, my pathfinding algorithm led to performance loss when multiple enemies on a vast map attempted to calculate paths simultaneously,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://natdanaiputhom.github.io/thread-pool/"><link rel="alternate" type="application/atom+xml" href="https://natdanaiputhom.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://natdanaiputhom.github.io/feed.json"><meta property="og:title" content="Thread Pool"><meta property="og:image" content="https://natdanaiputhom.github.io/media/posts/13/thread-2.png"><meta property="og:image:width" content="1024"><meta property="og:image:height" content="797"><meta property="og:site_name" content="Natdanai Puthom"><meta property="og:description" content="Initially, my pathfinding algorithm led to performance loss when multiple enemies on a vast map attempted to calculate paths simultaneously,&hellip;"><meta property="og:url" content="https://natdanaiputhom.github.io//thread-pool/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://natdanaiputhom.github.io/media/website/Hamster.ico" type="image/x-icon"><link rel="shortcut icon" href="https://natdanaiputhom.github.io/media/website/Hamster.ico" type="image/x-icon"><link rel="preload" href="https://natdanaiputhom.github.io/assets/dynamic/fonts/gluten/gluten.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://natdanaiputhom.github.io/assets/css/style.css?v=497ab98a24bee270987b677f654fd2c9"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://natdanaiputhom.github.io/thread-pool/"},"headline":"Thread Pool","datePublished":"2024-04-08T18:47+02:00","dateModified":"2025-02-07T18:43+01:00","image":{"@type":"ImageObject","url":"https://natdanaiputhom.github.io/media/posts/13/thread-2.png","height":797,"width":1024},"description":"Initially, my pathfinding algorithm led to performance loss when multiple enemies on a vast map attempted to calculate paths simultaneously,&hellip;","author":{"@type":"Person","name":"Natdanai Puthom","url":"https://natdanaiputhom.github.io/authors/natdanai-puthom/"},"publisher":{"@type":"Organization","name":"Natdanai Puthom"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="container"><header class="header"><a href="https://natdanaiputhom.github.io/" class="logo"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu">Menu</button><ul class="navbar__menu"><li><a href="https://natdanaiputhom.github.io/" target="_self">Home</a></li><li><a href="https://natdanaiputhom.github.io/tags/published-games/" target="_self">Published Games</a></li><li><a href="https://natdanaiputhom.github.io/tags/personal-project/" target="_self">Personal Projects</a></li><li><a href="https://natdanaiputhom.github.io/tags/group-project/" target="_self">TGA Projects</a></li><li><a href="https://natdanaiputhom.github.io/tags/gamejam/" target="_self">Game Jams</a></li><li><a href="https://natdanaiputhom.github.io/about-me/" target="_self">About Me</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__inner post__header"><h1 class="post__title">Thread Pool</h1></header><div class="post__inner"><div class="post__entry"><div class="content"><div class="textLeft"><p>Initially, my pathfinding algorithm led to performance loss when multiple enemies on a vast map attempted to calculate paths simultaneously, sometimes every frame. To enhance this, I devised a solution where, regardless of their current state, enemies could persist in their activities while awaiting the completion of path calculations. This transition ensured that upon receiving their calculated paths, they could effortlessly shift to the next state, utilizing the paths without hindering much of performance. That solution was thread pool, by making use of modern CPU, which usually come with multi-cores and threads. I encountered a subsequent challenge where certain tasks needed to be executed as swiftly as possible, which current thread pool class could not meet the requirement. To address this, I designed a separate priority queue for such tasks, assigning them a priority range from 0.0 to 1.0, with higher numbers indicating higher priority. This ensured that tasks in the priority queue were executed before those in the normal queue. After a code review, my classmates and I engaged in a discussion concerning the potential issue of certain tasks never begin executed if higher priority tasks were continuously added.</p></div><div class="image"><a href="https://natdanaiputhom.github.io/threadpool2.png" target="_blank" rel="noopener noreferrer"><figure class="post_image"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/13/threadpool2.png" alt="" width="1597" height="652" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool2-xs.png 384w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool2-sm.png 600w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool2-md.png 768w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool2-lg.png 1200w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool2-xl.png 1600w"></figure></a></div></div><div class="content"><div class="textLeft"><pre>"What if some tasks remain unexecuted due to the constant influx of higher priority tasks?"</pre><p>The solution I had in mind was some sort of timer for every tasks in queue. Since this 'potential issue' had not yet occurred, I decided it wasn't necessary to allocate time to address it immediately. Instead, I documented it, along with other potential issues and improvements, for future consideration.</p></div><div class="image"><a href="https://natdanaiputhom.github.io/threadpool3.png" target="_blank" rel="noopener noreferrer"><figure class="post_image"><img loading="lazy" src="https://natdanaiputhom.github.io/media/posts/13/threadpool3.png" alt="" width="1597" height="652" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool3-xs.png 384w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool3-sm.png 600w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool3-md.png 768w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool3-lg.png 1200w, https://natdanaiputhom.github.io/media/posts/13/responsive/threadpool3-xl.png 1600w"></figure></a></div></div></div><footer class="post__footer"><div class="post__tag-share"><div class="post__share"><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fnatdanaiputhom.github.io%2Fthread-pool%2F" class="js-share linkedin" aria-label="Share with LinkedIn" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div></div></footer></div></article></main><footer class="footer"><div class="footer__left"><div class="footer__copy"></div></div><div class="footer__right"><div class="footer__social"><a href="https://www.linkedin.com/in/natdanai-puthom-34175317a/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://natdanaiputhom.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = { mobileMenuMode: 'sidebar', animationSpeed: 300, submenuWidth: 'auto', doubleClickTime: 500, mobileMenuExpandableSubmenus: true, relatedContainerForOverlayMenuSelector: '.navbar', };</script><script defer="defer" src="https://natdanaiputhom.github.io/assets/js/scripts.min.js?v=6450cfc483efd7e58ed8ad5b64050d3e"></script><script>function publiiDetectLoadedImages () {
         var images = document.querySelectorAll('img[loading]:not(.is-loaded)');
         for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
               images[i].classList.add('is-loaded');
               images[i].parentNode.classList.remove('is-img-loading');
            } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
                  this.parentNode.classList.remove('is-img-loading');
               }, false);
            }
         }
      }
      publiiDetectLoadedImages();</script></body></html>